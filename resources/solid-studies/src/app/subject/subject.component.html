<div *ngIf="error">
  <mat-error>No se ha podido cargar bien el temario.</mat-error>
</div>

<div *ngIf="!subject">
  <mat-spinner></mat-spinner>
</div>

<div *ngIf="subject">
  <mat-card>
    <h1>{{ subject.name }}</h1>
    <mat-card-header>
      <mat-card-title>
        {{ this.subject.questions.length }} preguntas
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <mat-divider></mat-divider>
      <div style="padding: 20px 0;">
        <button mat-raised-button>Estudiar</button>
        <button (click)="showAddQuestions = !showAddQuestions" mat-button>AÃ±adir pregunta</button>
      </div>
      <div style="padding: 10px 0;">
        <app-subject-add-question *ngIf="showAddQuestions" [subjectId]="subject.id"></app-subject-add-question>
      </div>
      <mat-divider></mat-divider>
      <div style="padding: 10px" *ngFor="let question of subject.questions">
        <strong>{{ question.question_text }}</strong>
        <ul>
          <li *ngFor="let response of question.responses; index as i">
            {{ response }}
            <span *ngIf="i == question.correct_response">
              *
            </span>
          </li>
        </ul>
        <span>Explanation: {{ question.explanation_html }}</span>
        <mat-divider style="margin-top: 10px"></mat-divider>
      </div>
    </mat-card-content>
  </mat-card>
</div>
